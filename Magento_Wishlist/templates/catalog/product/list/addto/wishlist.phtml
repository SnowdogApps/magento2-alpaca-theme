<?php if ($block->getWishlistHelper()->isAllow()): ?>
    <?php $productId = $block->getProduct()->getId(); ?>
    <button
        class="
            button
            button--icon
            add-to-wishlist
            action
            towishlist
        "
        type="button"
        title="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>"
        aria-label="<?= $block->escapeHtmlAttr(__('Add to Wish List')) ?>"
        data-testid="add-to-wishlist-button"
        data-post='<?= /* @noEscape */ $block->getAddToWishlistParams($block->getProduct()) ?>'
        data-action="add-to-wishlist"
        data-mage-init='{
            "wishlistItem": {
                "productId": "<?= $productId ?>",
                "class": "button--icon-filled",
                "addToParams": <?= $block->getAddToWishlistParams($block->getProduct()) ?>
            }
        }'
    >
        <svg
            class="icon button__icon"
            role="presentation"
            focusable="false"
        >
            <use xlink:href="<?= $block->getViewFileUrl('images/icons-sprite.svg#heart') ?>"></use>
        </svg>
    </button>
<?php endif; ?>
