<!-- ko if: isActive() || hasActiveOptions() -->
<div class="cart-gift-item">
    <div
        class="gift-item-block cart-discount"
        data-collapsible="true"
        data-bind="css: {active: formBlockVisibility() || resultBlockVisibility()}"
    >
        <button
            class="cart-discount__button"
            type="button"
            aria-expanded="false"
            data-bind="click: $data.toggleFormBlockVisibility.bind($data)"
        >
            <span
                class="cart-discount__button-text"
                data-role="title"
                data-bind="i18n: 'Gift options'"
            >
            </span>

            <svg
                class="icon cart-discount__button-icon"
                role="presentation"
                focusable="false"
            >
                <use data-bind="attr: { 'xlink:href': require.toUrl('images/icons-sprite.svg#angle-down') }" xlink:href=''></use>
            </svg>
        </button>
        <div
            class="padding-vc-sm content"
            data-role="content"
            data-bind="visible: formBlockVisibility() || resultBlockVisibility()"
        >
            <!-- ko ifnot: resultBlockVisibility() -->
            <div class="gift-options">
                <!-- ko foreach: getRegion('additionalOptions') -->
                    <!-- ko template: getTemplate() --><!-- /ko -->
                <!-- /ko -->
                <!-- ko template: formTemplate --><!--/ko-->
            </div>
            <!-- /ko -->
            <div class="gift-summary">
                <!-- ko if: resultBlockVisibility() -->
                    <!-- ko foreach: getRegion('additionalOptions') -->
                         <!--ko template: appliedTemplate --><!-- /ko -->
                    <!-- /ko -->

                    <!-- ko if: getObservable('message') -->
                        <div class="gift-message-summary">
                            <span data-bind="i18n: 'Message:'"></span>
                            <!-- ko text: getObservable('message') --><!-- /ko -->
                        </div>
                    <!-- /ko -->
                    <div class="actions-group margin-vc-m">
                        <div class="actions-group__handler">
                            <button
                                type="submit"
                                class="
                                    button
                                    actions-group__button
                                    action
                                    action-edit
                                "
                                data-bind="
                                    attr: {title: $t('Edit')},
                                    click: $data.editOptions.bind($data)
                                "
                            >
                                <span data-bind="i18n: 'Edit'"></span>
                            </button>
                            <button
                                class="
                                    button
                                    button--secondary
                                    actions-group__button
                                    action
                                    action-delete
                                "
                                data-bind="
                                    attr: {title: $t('Delete')},
                                    click: $data.deleteOptions.bind($data)
                                "
                            >
                                <span data-bind="i18n: 'Delete'"></span>
                            </button>
                        </div>
                    </div>
                <!-- /ko -->
            </div>
        </div>
    </div>
</div>
<!-- /ko -->
