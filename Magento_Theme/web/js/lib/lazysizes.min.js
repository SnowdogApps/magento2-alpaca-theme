!function(t,e){var n=function(t,e){"use strict";if(!e.getElementsByClassName)return;var n,i=e.documentElement,a=t.Date,r=t.HTMLPictureElement,s=t.addEventListener,o=t.setTimeout,l=t.requestAnimationFrame||o,d=t.requestIdleCallback,u=/^picture$/i,c=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(t,e){return f[e]||(f[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),f[e].test(t.getAttribute("class")||"")&&f[e]},v=function(t,e){m(t,e)||t.setAttribute("class",(t.getAttribute("class")||"").trim()+" "+e)},z=function(t,e){var n;(n=m(t,e))&&t.setAttribute("class",(t.getAttribute("class")||"").replace(n," "))},h=function(t,e,n){var i=n?"addEventListener":"removeEventListener";n&&h(t,e),c.forEach(function(n){t[i](n,e)})},y=function(t,n,i,a,r){var s=e.createEvent("CustomEvent");return s.initCustomEvent(n,!a,!r,i||{}),t.dispatchEvent(s),s},p=function(e,i){var a;!r&&(a=t.picturefill||n.pf)?a({reevaluate:!0,elements:[e]}):i&&i.src&&(e.src=i.src)},b=function(t,e){return(getComputedStyle(t,null)||{})[e]},A=function(t,e,i){for(i=i||t.offsetWidth;i<n.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},C=(R=[],k=[],O=R,P=function(){var t=O;for(O=R.length?k:R,F=!0,S=!1;t.length;)t.shift()();F=!1},T=function(t,n){F&&!n?t.apply(this,arguments):(O.push(t),S||(S=!0,(e.hidden?o:l)(P)))},T._lsFlush=P,T),E=function(t,e){return e?function(){C(t)}:function(){var e=this,n=arguments;C(function(){t.apply(e,n)})}},N=function(t){var e,n,i=function(){e=null,t()},r=function(){var t=a.now()-n;t<99?o(r,99-t):(d||i)(i)};return function(){n=a.now(),e||(e=o(r,99))}},w=function(){var r,l,c,f,A,w,_,L,W,x,B,F,S,R,k,O,P,T,$,D,H,I=/^img$/i,q=/^iframe$/i,j="onscroll"in t&&!/glebot/.test(navigator.userAgent),G=0,J=0,K=-1,Q=function(t){J--,t&&t.target&&h(t.target,Q),(!t||J<0||!t.target)&&(J=0)},U=function(t,n){var a,r=t,s="hidden"==b(e.body,"visibility")||"hidden"!=b(t,"visibility");for(W-=n,F+=n,x-=n,B+=n;s&&(r=r.offsetParent)&&r!=e.body&&r!=i;)(s=(b(r,"opacity")||1)>0)&&"visible"!=b(r,"overflow")&&(a=r.getBoundingClientRect(),s=B>a.left&&x<a.right&&F>a.top-1&&W<a.bottom+1);return s},V=function(){var t,a,s,o,d,u,f,g,m;if((A=n.loadMode)&&J<8&&(t=r.length)){a=0,K++,null==R&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),S=n.expand,R=S*n.expFactor),G<R&&J<1&&K>2&&A>2&&!e.hidden?(G=R,K=0):G=A>1&&K>1&&J<6?S:0;for(;a<t;a++)if(r[a]&&!r[a]._lazyRace)if(j)if((g=r[a].getAttribute("data-expand"))&&(u=1*g)||(u=G),m!==u&&(_=innerWidth+u*k,L=innerHeight+u,f=-1*u,m=u),s=r[a].getBoundingClientRect(),(F=s.bottom)>=f&&(W=s.top)<=L&&(B=s.right)>=f*k&&(x=s.left)<=_&&(F||B||x||W)&&(c&&J<3&&!g&&(A<3||K<4)||U(r[a],u))){if(it(r[a]),d=!0,J>9)break}else!d&&c&&!o&&J<4&&K<4&&A>2&&(l[0]||n.preloadAfterLoad)&&(l[0]||!g&&(F||B||x||W||"auto"!=r[a].getAttribute(n.sizesAttr)))&&(o=l[0]||r[a]);else it(r[a]);o&&!d&&it(o)}},X=(O=V,T=0,$=666,D=function(){P=!1,T=a.now(),O()},H=d?function(){d(D,{timeout:$}),666!==$&&($=666)}:E(function(){o(D)},!0),function(t){var e;(t=!0===t)&&($=44),P||(P=!0,(e=125-(a.now()-T))<0&&(e=0),t||e<9&&d?H():o(H,e))}),Y=function(t){v(t.target,n.loadedClass),z(t.target,n.loadingClass),h(t.target,tt)},Z=E(Y),tt=function(t){Z({target:t.target})},et=function(t){var e,i,a=t.getAttribute(n.srcsetAttr);(e=n.customMedia[t.getAttribute("data-media")||t.getAttribute("media")])&&t.setAttribute("media",e),a&&t.setAttribute("srcset",a),e&&((i=t.parentNode).insertBefore(t.cloneNode(),t),i.removeChild(t))},nt=E(function(t,e,i,a,r){var s,l,d,c,m,b;(m=y(t,"lazybeforeunveil",e)).defaultPrevented||(a&&(i?v(t,n.autosizesClass):t.setAttribute("sizes",a)),l=t.getAttribute(n.srcsetAttr),s=t.getAttribute(n.srcAttr),r&&(d=t.parentNode,c=d&&u.test(d.nodeName||"")),b=e.firesLoad||"src"in t&&(l||s||c),m={target:t},b&&(h(t,Q,!0),clearTimeout(f),f=o(Q,2500),v(t,n.loadingClass),h(t,tt,!0)),c&&g.call(d.getElementsByTagName("source"),et),l?t.setAttribute("srcset",l):s&&!c&&(q.test(t.nodeName)?function(t,e){try{t.contentWindow.location.replace(e)}catch(n){t.src=e}}(t,s):t.src=s),(l||c)&&p(t,{src:s})),t._lazyRace&&delete t._lazyRace,z(t,n.lazyClass),C(function(){(!b||t.complete&&t.naturalWidth>1)&&(b?Q(m):J--,Y(m))},!0)}),it=function(t){var e,i=I.test(t.nodeName),a=i&&(t.getAttribute(n.sizesAttr)||t.getAttribute("sizes")),r="auto"==a;(!r&&c||!i||!t.src&&!t.srcset||t.complete||m(t,n.errorClass))&&(e=y(t,"lazyunveilread").detail,r&&M.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,J++,nt(t,e,r,a,i))},at=function(){if(!c)if(a.now()-w<999)o(at,999);else{var t=N(function(){n.loadMode=3,X()});c=!0,n.loadMode=3,X(),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),t()},!0)}};return{_:function(){w=a.now(),r=e.getElementsByClassName(n.lazyClass),l=e.getElementsByClassName(n.lazyClass+" "+n.preloadClass),k=n.hFac,s("scroll",X,!0),s("resize",X,!0),t.MutationObserver?new MutationObserver(X).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i.addEventListener("DOMNodeInserted",X,!0),i.addEventListener("DOMAttrModified",X,!0),setInterval(X,999)),s("hashchange",X,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(t){e.addEventListener(t,X,!0)}),/d$|^c/.test(e.readyState)?at():(s("load",at),e.addEventListener("DOMContentLoaded",X),o(at,2e4)),r.length?(V(),C._lsFlush()):X()},checkElems:X,unveil:it}}(),M=(W=E(function(t,e,n,i){var a,r,s;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),u.test(e.nodeName||""))for(a=e.getElementsByTagName("source"),r=0,s=a.length;r<s;r++)a[r].setAttribute("sizes",i);n.detail.dataAttr||p(t,n.detail)}),x=function(t,e,n){var i,a=t.parentNode;a&&(n=A(t,a,n),(i=y(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=i.detail.width)&&n!==t._lazysizesWidth&&W(t,a,i,n))},B=N(function(){var t,e=L.length;if(e)for(t=0;t<e;t++)x(L[t])}),{_:function(){L=e.getElementsByClassName(n.autosizesClass),s("resize",B)},checkElems:B,updateElem:x}),_=function(){_.i||(_.i=!0,M._(),w._())};var L,W,x,B;var F,S,R,k,O,P,T;return function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};for(e in n=t.lazySizesConfig||t.lazysizesConfig||{},i)e in n||(n[e]=i[e]);t.lazySizesConfig=n,o(function(){n.init&&_()})}(),{cfg:n,autoSizer:M,loader:w,init:_,uP:p,aC:v,rC:z,hC:m,fire:y,gW:A,rAF:C}}(t,t.document);t.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window);
