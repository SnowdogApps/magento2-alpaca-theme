<?php

/** @var \Magento\Customer\Block\Widget\Dob $block */

/*
<?= $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Dob')
   ->setDate($block->getCustomer()->getDob())
   ->toHtml() ?>

For checkout/onepage/billing.phtml:

<?= $block->getLayout()->createBlock('Magento\Customer\Block\Widget\Dob')
   ->setDate($block->getCustomer()->getDob())
   ->setFieldIdFormat('billing:%s')
   ->setFieldNameFormat('billing[%s]')
   ->toHtml() ?>

NOTE: Regarding styles - if we leave it this way, we'll move it to boxes.css. Alternatively we could calculate widths
automatically using block input parameters.
*/

$fieldCssClass = 'input input--datepicker field-' . $block->getHtmlId();
$fieldCssClass .= $block->isRequired() ? ' required' : '';
?>
<div class="<?= $block->escapeHtmlAttr($fieldCssClass) ?>">
    <label
        class="input__label"
        for="<?= $block->escapeHtmlAttr($block->getHtmlId()) ?>"
    >
        <?= $block->escapeHtml($block->getStoreLabel('dob')) ?>
    </label>
    <!-- TODO add to generated from backend input class 'input__field' -->
    <?= $block->getFieldHtml() ?>
    <?php if ($_message = $block->getAdditionalDescription()): ?>
        <div class="message">
            <?= $block->escapeHtml($_message) ?>
        </div>
    <?php endif; ?>
</div>
