<?php
/** These changes need to valid applying filters and configuration before search process is started. */
$productList = $block->getProductListHtml();
?>
<?php if ($block->getResultCount()): ?>
    <?= /* @noEscape */ $block->getChildHtml('tagged_product_list_rss_link') ?>
<div class="search results">
    <?php if ($messages = $block->getNoteMessages()): ?>
    <div class="message notice margin-bottom-sm">
        <div>
            <?php foreach ($messages as $message): ?>
                <?= /* @noEscape */ $message ?><br />
            <?php endforeach ?>
        </div>
    </div>
    <?php endif ?>
    <?= /* @noEscape */ $productList ?>
</div>
<?php else: ?>
    <svg
        class="
            icon
            search-no-results__icon
        "
        role="img"
    >
        <title><?= $block->escapeHtml(__('No results')) ?></title>
        <use href="<?= $block->escapeUrl($block->getViewFileUrl('images/icons-sprite.svg#no-results')) ?>"></use>
    </svg>

    <div class="search-no-results__description">
        <?= $this->getLayout()->createBlock('Magento\Cms\Block\Block')->setBlockId('search-no-results')->toHtml() ?>
    </div>

    <a
        class="
            button
            search-no-results__link
        "
        href="<?= $block->escapeUrl($block->getUrl()) ?>"
    >
        <?= $block->escapeHtml(__('Store home')) ?>
    </a>
<?php endif; ?>
