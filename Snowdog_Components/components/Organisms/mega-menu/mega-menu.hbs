<div class="mega-menu {{ class }}" {{{ attributes }}}>
    <ul class="mega-menu__list container {{ listClass }}">
        {{#each menulist as |menuitem| }}
            <li class="mega-menu__item {{ class }}">
                <a href="{{ link }}" class="mega-menu__link">
                    {{ text }}
                </a>

                {{#if menuitem.list}}
                    {{ render '@list--link' menuitem.list merge=true }}
                {{/if}}

                {{#if nestedList}}
                    <ul class="mega-menu__inner-list mega-menu__inner-list--level1">
                        {{#each nestedList as |item| }}
                            <li class="{{ item.class }}">
                                <a
                                    href="{{ item.link }}"
                                    class="{{ item.linkClass }}"
                                >
                                    {{ item.heading }}
                                </a>
                                {{#if item.list}}
                                    {{ render '@list--link' item.list merge=true }}
                                {{/if}}
                            </li>
                        {{/each}}
                    </ul>
                {{/if}}
            </li>
        {{/each}}
    </ul>
</div>
{{#if script }}
    <script src="{{static 'mega-menu.js' }}"></script>
{{/if}}
