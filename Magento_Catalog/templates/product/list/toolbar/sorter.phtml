<?php
/** @var $block \Magento\Catalog\Block\Product\ProductList\Toolbar */
?>
<div class="toolbar__sorter">
    <div class="select toolbar__sorter-wrapper">
        <label class="label toolbar__sorter-label" for="sort-by">
            <?= $escaper->escapeHtml(__('Sort By')) ?>
        </label>
        <select
            id="sort-by"
            class="select__field select__field--native toolbar__sorter-select"
            name="sort-by"
            data-role="sorter"
            onchange="document.location.href=this.value"
            data-mage-init='{ "select": { } }'
        >
            <?php foreach ($block->getAvailableOrders() as $_key => $_order): ?>
                <option
                    value="<?= $escaper->escapeHtmlAttr($_key) ?>"
                    <?= ($block->isOrderCurrent($_key)) ? 'selected="selected"' : '' ?>
                >
                    <?= $escaper->escapeHtml(__($_order)) ?>
                </option>
            <?php endforeach ?>
        </select>
        <?php if ($block->getCurrentDirection() == 'desc'): ?>
            <div
                class="toolbar__sorter-icon-wrapper"
                title="<?= $escaper->escapeHtmlAttr(__('Set Ascending Direction')) ?>"
                aria-label="<?= $escaper->escapeHtmlAttr(__('Set Ascending Direction')) ?>"
                data-role="direction-switcher"
                data-value="asc"
                tabindex="0"
            >
                <svg class="toolbar__sorter-icon">
                    <use xlink:href="<?= $escaper->escapeUrl($block->getViewFileUrl('images/icons-sprite.svg#arrow-down')) ?>"></use>
                </svg>
            </div>
            <?php else: ?>
            <div
                class="toolbar__sorter-icon-wrapper"
                title="<?= $escaper->escapeHtmlAttr(__('Set Descending Direction')) ?>"
                aria-label="<?= $escaper->escapeHtmlAttr(__('Set Descending Direction')) ?>"
                data-role="direction-switcher"
                data-value="desc"
                tabindex="0"
            >
                <svg class="toolbar__sorter-icon">
                    <use xlink:href="<?= $escaper->escapeUrl($block->getViewFileUrl('images/icons-sprite.svg#arrow-up')) ?>"></use>
                </svg>
            </div>
        <?php endif ?>
    </div>
</div>
