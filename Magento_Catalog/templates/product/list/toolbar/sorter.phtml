<?php
use Magento\Catalog\Model\Product\ProductList\Toolbar;
?>
<div class="select toolbar__sorter">
    <label
        class="
            label
            select__label
            toolbar__sorter-label
            margin-right-s
            margin-bottom-0
        "
        for="sorter"
    >
        <?= $block->escapeHtml(__('Sort By')) ?>
    </label>

    <select
        id="sorter"
        class="
            select__field
            toolbar__sorter-select
        "
        name="sorter"
        data-role="sorter"
        data-mage-init='{ "select": {} }'
        aria-label="<?= $block->escapeHtmlAttr(__('Sort By')); ?>"
    >
        <?php foreach ($block->getAvailableOrders() as $_key => $_order): ?>
            <option
                value="<?= $block->escapeHtmlAttr($_key) ?>"
                <?= ($block->isOrderCurrent($_key)) ? 'selected="selected"' : '' ?>
            >
                <?= $block->escapeHtml(__($_order)) ?>
            </option>
        <?php endforeach ?>
    </select>
    <?php if ($block->getCurrentDirection() == 'desc'): ?>
        <a
            title="<?= $block->escapeHtmlAttr(__('Set Ascending Direction')) ?>"
            href="#"
            class="
                action
                button
                button--link
                button--icon
                toolbar__sorter-link
                sorter-action
                sort-desc
            "
            data-role="direction-switcher"
            data-value="asc"
            aria-label="<?= $block->escapeHtmlAttr(__('Set Ascending Direction')) ?>"
        >
            <svg
                class="
                    icon
                    toolbar__sorter-icon
                "
                role="presentation"
                focusable="false"
            >
                <use xlink:href="<?= $block->escapeUrl($block->getViewFileUrl('images/icons-sprite.svg#arrow-up')) ?>"></use>
            </svg>
        </a>
    <?php else: ?>
        <a
            title="<?= $block->escapeHtmlAttr(__('Set Descending Direction')) ?>"
            href="#"
            class="
                button
                button--link
                button--icon
                toolbar__sorter-link
                action
                sorter-action
                sort-asc
            "
            data-role="direction-switcher"
            data-value="desc"
            aria-label="<?= $block->escapeHtmlAttr(__('Set Descending Direction')) ?>"
        >
            <svg
                class="
                    icon
                    toolbar__sorter-icon
                "
                role="presentation"
                focusable="false"
            >
                <use xlink:href="<?= $block->escapeUrl($block->getViewFileUrl('images/icons-sprite.svg#arrow-down')) ?>"></use>
            </svg>
        </a>
    <?php endif; ?>
</div>
