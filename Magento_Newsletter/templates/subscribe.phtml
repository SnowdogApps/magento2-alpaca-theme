<div class="newsletter">
    <div class="newsletter__heading">
        <?= $block->getChildHtml('newsletter-heading') ?>
    </div>
    <form
        class="newsletter__form"
        novalidate
        action="<?= $block->escapeUrl($block->getFormActionUrl()) ?>"
        method="post"
        data-mage-init='{
            "validation": {
                "errorClass": "mage-error"
            }
        }'
        id="newsletter-validate-detail"
    >
        <div class="newsletter__controls">
            <div class="input newsletter__input">
                <label
                    class="
                        label
                        input__label
                        label--hidden
                        newsletter__label
                    "
                    for="newsletter"
                >
                    <?= $block->escapeHtml(__('Email for newsletter subscription')) ?>
                </label>
                <input
                    name="email"
                    type="email"
                    id="newsletter"
                    class="input__field newsletter__field"
                    placeholder="<?= $block->escapeHtmlAttr(__('Enter your email')) ?>"
                    required
                />
            </div>
            <button
                class="
                    button
                    button--secondary
                    newsletter__button
                "
                data-testid="submit-newsletter-button"
                type="submit"
            >
                <?= $block->escapeHtml(__('Sign Up')) ?>
            </button>
        </div>
        <?php if ($block->getChildHtml('newsletter-agreement')): ?>
            <div class="newsletter__agreements">
                <div
                    class="
                        checkbox
                        newsletter__checkbox
                        required
                    "
                >
                    <input
                        type="checkbox"
                        id="newsletterAgreement"
                        name="newsletterAgreement"
                        class="checkbox__field"
                        required
                    >
                    <svg
                        class="
                            checkbox__icon
                            checkbox__icon--checked
                        "
                        role="presentation"
                        focusable="false"
                    >
                        <use xlink:href="<?= $block->escapeUrl($block->getViewFileUrl('/images/icons-sprite.svg#checked')) ?>"></use>
                    </svg>
                    <svg
                        class="
                            checkbox__icon
                            checkbox__icon--unchecked
                        "
                        role="presentation"
                        focusable="false"
                    >
                        <use xlink:href="<?= $block->escapeUrl($block->getViewFileUrl('/images/icons-sprite.svg#unchecked')) ?>"></use>
                    </svg>
                    <label
                        for="newsletterAgreement"
                        class="checkbox__label"
                    >
                        <span class="checkbox__text">
                            <?= $block->getChildHtml('newsletter-agreement') ?>
                        </span>
                    </label>
                </div>
            </div>
        <?php endif; ?>
    </form>
</div>
<script type="text/x-magento-init">
    {
        "*": {
            "Magento_Customer/js/block-submit-on-send": {
                "formId": "newsletter-validate-detail"
            }
        }
    }
</script>
